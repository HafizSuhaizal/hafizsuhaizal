<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Letter</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=VT323&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <style>
      :root { 
        --accent: #ff6b6b; 
        --accent-hover: #ff5252;
        --bg-primary: #0a0a0a;
        --bg-secondary: rgba(255,255,255,0.08);
        --text-primary: #ffffff;
        --text-secondary: #e0e0e0;
        --text-muted: #a0a0a0;
        --border: rgba(255,255,255,0.1);
        --shadow: 0 20px 40px rgba(0,0,0,0.4);
        --shadow-hover: 0 25px 50px rgba(0,0,0,0.5);
      }
      
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
        min-height: 100vh;
        font-family: 'Inter', sans-serif;
        color: var(--text-primary);
        overflow-x: hidden;
      }
      
      /* Animated flower background (scoped) */
      .flower-bg {
        --dark-color: #000;
        position: fixed;
        inset: 0;
        z-index: 0;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        overflow: hidden;
        perspective: 1000px;
        pointer-events: none;
      }
      .flower-bg .night {
        position: fixed;
        left: 50%;
        top: 0;
        transform: translateX(-50%);
        width: 100%;
        height: 100%;
        filter: blur(0.1vmin);
        background-image: radial-gradient(ellipse at top, transparent 0%, var(--dark-color)),
          radial-gradient(ellipse at bottom, var(--dark-color), rgba(145, 233, 255, 0.2)),
          repeating-linear-gradient(220deg, black 0px, black 19px, transparent 19px, transparent 22px),
          repeating-linear-gradient(189deg, black 0px, black 19px, transparent 19px, transparent 22px),
          repeating-linear-gradient(148deg, black 0px, black 19px, transparent 19px, transparent 22px),
          linear-gradient(90deg, #00fffa, #f0f0f0);
      }
      .flower-bg .flowers { position: relative; transform: scale(0.9); }
      .flower-bg .flower { position: absolute; bottom: 10vmin; transform-origin: bottom center; z-index: 10; --fl-speed: 0.8s; }
      .flower-bg .flower--1 { animation: moving-flower-1 4s linear infinite; }
      .flower-bg .flower--1 .flower__line { height: 70vmin; animation-delay: 0.3s; }
      .flower-bg .flower--1 .flower__line__leaf--1 { animation: blooming-leaf-right var(--fl-speed) 1.6s backwards; }
      .flower-bg .flower--1 .flower__line__leaf--2 { animation: blooming-leaf-right var(--fl-speed) 1.4s backwards; }
      .flower-bg .flower--1 .flower__line__leaf--3 { animation: blooming-leaf-left var(--fl-speed) 1.2s backwards; }
      .flower-bg .flower--1 .flower__line__leaf--4 { animation: blooming-leaf-left var(--fl-speed) 1s backwards; }
      .flower-bg .flower--1 .flower__line__leaf--5 { animation: blooming-leaf-right var(--fl-speed) 1.8s backwards; }
      .flower-bg .flower--1 .flower__line__leaf--6 { animation: blooming-leaf-left var(--fl-speed) 2s backwards; }
      .flower-bg .flower--2 { left: 50%; transform: rotate(20deg); animation: moving-flower-2 4s linear infinite; }
      .flower-bg .flower--2 .flower__line { height: 60vmin; animation-delay: 0.6s; }
      .flower-bg .flower--2 .flower__line__leaf--1 { animation: blooming-leaf-right var(--fl-speed) 1.9s backwards; }
      .flower-bg .flower--2 .flower__line__leaf--2 { animation: blooming-leaf-right var(--fl-speed) 1.7s backwards; }
      .flower-bg .flower--2 .flower__line__leaf--3 { animation: blooming-leaf-left var(--fl-speed) 1.5s backwards; }
      .flower-bg .flower--2 .flower__line__leaf--4 { animation: blooming-leaf-left var(--fl-speed) 1.3s backwards; }
      .flower-bg .flower--3 { left: 50%; transform: rotate(-15deg); animation: moving-flower-3 4s linear infinite; }
      .flower-bg .flower--3 .flower__line { animation-delay: 0.9s; }
      .flower-bg .flower--3 .flower__line__leaf--1 { animation: blooming-leaf-right var(--fl-speed) 2.5s backwards; }
      .flower-bg .flower--3 .flower__line__leaf--2 { animation: blooming-leaf-right var(--fl-speed) 2.3s backwards; }
      .flower-bg .flower--3 .flower__line__leaf--3 { animation: blooming-leaf-left var(--fl-speed) 2.1s backwards; }
      .flower-bg .flower--3 .flower__line__leaf--4 { animation: blooming-leaf-left var(--fl-speed) 1.9s backwards; }
      .flower-bg .flower__leafs { position: relative; animation: blooming-flower 2s backwards; }
      .flower-bg .flower__leafs--1 { animation-delay: 1.1s; }
      .flower-bg .flower__leafs--2 { animation-delay: 1.4s; }
      .flower-bg .flower__leafs--3 { animation-delay: 1.7s; }
      .flower-bg .flower__leafs::after { content: ""; position: absolute; left: 0; top: 0; transform: translate(-50%, -100%); width: 8vmin; height: 8vmin; background-color: #6bf0ff; filter: blur(10vmin); }
      .flower-bg .flower__leaf { position: absolute; bottom: 0; left: 50%; width: 8vmin; height: 11vmin; border-radius: 51% 49% 47% 53%/44% 45% 55% 69%; background-color: #a7ffee; background-image: linear-gradient(to top, #54b8aa, #a7ffee); transform-origin: bottom center; opacity: 0.9; box-shadow: inset 0 0 2vmin rgba(255, 255, 255, 0.5); }
      .flower-bg .flower__leaf--1 { transform: translate(-10%, 1%) rotateY(40deg) rotateX(-50deg); }
      .flower-bg .flower__leaf--2 { transform: translate(-50%, -4%) rotateX(40deg); }
      .flower-bg .flower__leaf--3 { transform: translate(-90%, 0%) rotateY(45deg) rotateX(50deg); }
      .flower-bg .flower__leaf--4 { width: 8vmin; height: 8vmin; transform-origin: bottom left; border-radius: 4vmin 10vmin 4vmin 4vmin; transform: translate(0%, 18%) rotateX(70deg) rotate(-43deg); background-image: linear-gradient(to top, #39c6d6, #a7ffee); z-index: 1; opacity: 0.8; }
      .flower-bg .flower__white-circle { position: absolute; left: -3.5vmin; top: -3vmin; width: 9vmin; height: 4vmin; border-radius: 50%; background-color: #fff; }
      .flower-bg .flower__white-circle::after { content: ""; position: absolute; left: 50%; top: 45%; transform: translate(-50%, -50%); width: 60%; height: 60%; border-radius: inherit; background-image: repeating-linear-gradient(135deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(45deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(67.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(135deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(45deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(112.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(112.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(45deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(22.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(45deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(22.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(135deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(157.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(67.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), repeating-linear-gradient(67.5deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 1px, transparent 1px, transparent 12px), linear-gradient(90deg, #ffeb12, #ffce00); }
      .flower-bg .flower__line { height: 55vmin; width: 1.5vmin; background-image: linear-gradient(to left, rgba(0,0,0,0.2), transparent, rgba(255,255,255,0.2)), linear-gradient(to top, transparent 10%, #14757a, #39c6d6); box-shadow: inset 0 0 2px rgba(0,0,0,0.5); animation: grow-flower-tree 4s backwards; }
      .flower-bg .flower__line__leaf { --w: 7vmin; --h: calc(var(--w) + 2vmin); position: absolute; top: 20%; left: 90%; width: var(--w); height: var(--h); border-top-right-radius: var(--h); border-bottom-left-radius: var(--h); background-image: linear-gradient(to top, rgba(20,117,122,0.4), #39c6d6); }
      .flower-bg .flower__line__leaf--1 { transform: rotate(70deg) rotateY(30deg); }
      .flower-bg .flower__line__leaf--2 { top: 45%; transform: rotate(70deg) rotateY(30deg); }
      .flower-bg .flower__line__leaf--3,
      .flower-bg .flower__line__leaf--4,
      .flower-bg .flower__line__leaf--6 { border-top-right-radius: 0; border-bottom-left-radius: 0; border-top-left-radius: var(--h); border-bottom-right-radius: var(--h); left: -460%; top: 12%; transform: rotate(-70deg) rotateY(30deg); }
      .flower-bg .flower__line__leaf--4 { top: 40%; }
      .flower-bg .flower__line__leaf--5 { top: 0; transform-origin: left; transform: rotate(70deg) rotateY(30deg) scale(0.6); }
      .flower-bg .flower__line__leaf--6 { top: -2%; left: -450%; transform-origin: right; transform: rotate(-70deg) rotateY(30deg) scale(0.6); }
      .flower-bg .flower__light { position: absolute; bottom: 0vmin; width: 1vmin; height: 1vmin; background-color: #fffb00; border-radius: 50%; filter: blur(0.2vmin); animation: light-ans 4s linear infinite backwards; }
      .flower-bg .flower__light:nth-child(odd) { background-color: #23f0ff; }
      .flower-bg .flower__light--1 { left: -2vmin; animation-delay: 1s; }
      .flower-bg .flower__light--2 { left: 3vmin; animation-delay: 0.5s; }
      .flower-bg .flower__light--3 { left: -6vmin; animation-delay: 0.3s; }
      .flower-bg .flower__light--4 { left: 6vmin; animation-delay: 0.9s; }
      .flower-bg .flower__light--5 { left: -1vmin; animation-delay: 1.5s; }
      .flower-bg .flower__light--6 { left: -4vmin; animation-delay: 3s; }
      .flower-bg .flower__light--7 { left: 3vmin; animation-delay: 2s; }
      .flower-bg .flower__light--8 { left: -6vmin; animation-delay: 3.5s; }
      .flower-bg .flower__grass { --c: #159faa; --line-w: 1.5vmin; position: absolute; bottom: 12vmin; left: -7vmin; display: flex; flex-direction: column; align-items: flex-end; z-index: 20; transform-origin: bottom center; transform: rotate(-48deg) rotateY(40deg); }
      .flower-bg .flower__grass--1 { animation: moving-grass 2s linear infinite; }
      .flower-bg .flower__grass--2 { left: 2vmin; bottom: 10vmin; transform: scale(0.5) rotate(75deg) rotateX(10deg) rotateY(-200deg); opacity: 0.8; z-index: 0; animation: moving-grass--2 1.5s linear infinite; }
      .flower-bg .flower__grass--top { width: 7vmin; height: 10vmin; border-top-right-radius: 100%; border-right: var(--line-w) solid var(--c); transform-origin: bottom center; transform: rotate(-2deg); }
      .flower-bg .flower__grass--bottom { margin-top: -2px; width: var(--line-w); height: 25vmin; background-image: linear-gradient(to top, transparent, var(--c)); }
      .flower-bg .flower__grass__leaf { --size: 10vmin; position: absolute; width: calc(var(--size) * 2.1); height: var(--size); border-top-left-radius: var(--size); border-top-right-radius: var(--size); background-image: linear-gradient(to top, transparent, transparent 30%, var(--c)); z-index: 100; }
      .flower-bg .flower__grass__leaf--1 { top: -6%; left: 30%; --size: 6vmin; transform: rotate(-20deg); animation: growing-grass-ans--1 2s 2.6s backwards; }
      @keyframes growing-grass-ans--1 { 0% { transform-origin: bottom left; transform: rotate(-20deg) scale(0); } }
      .flower-bg .flower__grass__leaf--2 { top: -5%; left: -110%; --size: 6vmin; transform: rotate(10deg); animation: growing-grass-ans--2 2s 2.4s linear backwards; }
      @keyframes growing-grass-ans--2 { 0% { transform-origin: bottom right; transform: rotate(10deg) scale(0); } }
      .flower-bg .flower__grass__leaf--3 { top: 5%; left: 60%; --size: 8vmin; transform: rotate(-18deg) rotateX(-20deg); animation: growing-grass-ans--3 2s 2.2s linear backwards; }
      @keyframes growing-grass-ans--3 { 0% { transform-origin: bottom left; transform: rotate(-18deg) rotateX(-20deg) scale(0); } }
      .flower-bg .flower__grass__leaf--4 { top: 6%; left: -135%; --size: 8vmin; transform: rotate(2deg); animation: growing-grass-ans--4 2s 2s linear backwards; }
      @keyframes growing-grass-ans--4 { 0% { transform-origin: bottom right; transform: rotate(2deg) scale(0); } }
      .flower-bg .flower__grass__leaf--5 { top: 20%; left: 60%; --size: 10vmin; transform: rotate(-24deg) rotateX(-20deg); animation: growing-grass-ans--5 2s 1.8s linear backwards; }
      @keyframes growing-grass-ans--5 { 0% { transform-origin: bottom left; transform: rotate(-24deg) rotateX(-20deg) scale(0); } }
      .flower-bg .flower__grass__leaf--6 { top: 22%; left: -180%; --size: 10vmin; transform: rotate(10deg); animation: growing-grass-ans--6 2s 1.6s linear backwards; }
      @keyframes growing-grass-ans--6 { 0% { transform-origin: bottom right; transform: rotate(10deg) scale(0); } }
      .flower-bg .flower__grass__leaf--7 { top: 39%; left: 70%; --size: 10vmin; transform: rotate(-10deg); animation: growing-grass-ans--7 2s 1.4s linear backwards; }
      @keyframes growing-grass-ans--7 { 0% { transform-origin: bottom left; transform: rotate(-10deg) scale(0); } }
      .flower-bg .flower__grass__leaf--8 { top: 40%; left: -215%; --size: 11vmin; transform: rotate(10deg); animation: growing-grass-ans--8 2s 1.2s linear backwards; }
      @keyframes growing-grass-ans--8 { 0% { transform-origin: bottom right; transform: rotate(10deg) scale(0); } }
      .flower-bg .flower__grass__overlay { position: absolute; top: -10%; right: 0%; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); filter: blur(1.5vmin); z-index: 100; }
      .flower-bg .flower__g-long { --w: 2vmin; --h: 6vmin; --c: #159faa; position: absolute; bottom: 10vmin; left: -3vmin; transform-origin: bottom center; transform: rotate(-30deg) rotateY(-20deg); display: flex; flex-direction: column; align-items: flex-end; animation: flower-g-long-ans 3s linear infinite; }
      @keyframes flower-g-long-ans { 0%,100% { transform: rotate(-30deg) rotateY(-20deg); } 50% { transform: rotate(-32deg) rotateY(-20deg); } }
      .flower-bg .flower__g-long__top { top: calc(var(--h) * -1); width: calc(var(--w) + 1vmin); height: var(--h); border-top-right-radius: 100%; border-right: 0.7vmin solid var(--c); transform: translate(-0.7vmin, 1vmin); }
      .flower-bg .flower__g-long__bottom { width: var(--w); height: 50vmin; transform-origin: bottom center; background-image: linear-gradient(to top, transparent 30%, var(--c)); box-shadow: inset 0 0 2px rgba(0,0,0,0.5); clip-path: polygon(35% 0, 65% 1%, 100% 100%, 0% 100%); }
      .flower-bg .flower__g-right { position: absolute; bottom: 6vmin; left: -2vmin; transform-origin: bottom left; transform: rotate(20deg); }
      .flower-bg .flower__g-right .leaf { width: 30vmin; height: 50vmin; border-top-left-radius: 100%; border-left: 2vmin solid #079097; background-image: linear-gradient(to bottom, transparent, var(--dark-color) 60%); -webkit-mask-image: linear-gradient(to top, transparent 30%, #079097 60%); }
      .flower-bg .flower__g-right--1 { animation: flower-g-right-ans 2.5s linear infinite; }
      .flower-bg .flower__g-right--2 { left: 5vmin; transform: rotateY(-180deg); animation: flower-g-right-ans--2 3s linear infinite; }
      .flower-bg .flower__g-right--2 .leaf { height: 75vmin; filter: blur(0.3vmin); opacity: 0.8; }
      @keyframes flower-g-right-ans { 0%,100% { transform: rotate(20deg); } 50% { transform: rotate(24deg) rotateX(-20deg); } }
      @keyframes flower-g-right-ans--2 { 0%,100% { transform: rotateY(-180deg) rotate(0deg) rotateX(-20deg); } 50% { transform: rotateY(-180deg) rotate(6deg) rotateX(-20deg); } }
      .flower-bg .flower__g-front { position: absolute; bottom: 6vmin; left: 2.5vmin; z-index: 100; transform-origin: bottom center; transform: rotate(-28deg) rotateY(30deg) scale(1.04); animation: flower__g-front-ans 2s linear infinite; }
      @keyframes flower__g-front-ans { 0%,100% { transform: rotate(-28deg) rotateY(30deg) scale(1.04); } 50% { transform: rotate(-35deg) rotateY(40deg) scale(1.04); } }
      .flower-bg .flower__g-front__line { width: 0.3vmin; height: 20vmin; background-image: linear-gradient(to top, transparent, #079097, transparent 100%); position: relative; }
      .flower-bg .flower__g-front__leaf-wrapper { position: absolute; top: 0; left: 0; transform-origin: bottom left; transform: rotate(10deg); }
      .flower-bg .flower__g-front__leaf-wrapper:nth-child(even) { left: 0vmin; transform: rotateY(-180deg) rotate(5deg); animation: flower__g-front__leaf-left-ans 1s ease-in backwards; }
      .flower-bg .flower__g-front__leaf-wrapper:nth-child(odd) { animation: flower__g-front__leaf-ans 1s ease-in backwards; }
      .flower-bg .flower__g-front__leaf-wrapper--1 { top: -8vmin; transform: scale(0.7); animation: flower__g-front__leaf-ans 1s 5.5s ease-in backwards !important; }
      @keyframes flower__g-front__leaf-left-ans-2 { 0% { transform: rotateY(-180deg) scale(0); } }
      .flower-bg .flower__g-front__leaf { width: 10vmin; height: 10vmin; border-radius: 100% 0% 0% 100%/100% 100% 0% 0%; box-shadow: inset 0 2px 1vmin rgba(44,238,252,0.2); background-image: linear-gradient(to bottom left, transparent, var(--dark-color)), linear-gradient(to bottom right, #159faa 50%, transparent 50%, transparent); -webkit-mask-image: linear-gradient(to bottom right, #159faa 50%, transparent 50%, transparent); mask-image: linear-gradient(to bottom right, #159faa 50%, transparent 50%, transparent); }
      .flower-bg .flower__g-fr { position: absolute; bottom: -4vmin; left: 0vmin; transform-origin: bottom left; z-index: 10; animation: flower__g-fr-ans 2s linear infinite; }
      @keyframes flower__g-fr-ans { 0%,100% { transform: rotate(2deg); } 50% { transform: rotate(4deg); } }
      .flower-bg .flower__g-fr .leaf { width: 30vmin; height: 50vmin; border-top-left-radius: 100%; border-left: 2vmin solid #079097; -webkit-mask-image: linear-gradient(to top, transparent 25%, #079097 50%); position: relative; z-index: 1; }
      .flower-bg .flower__g-fr__leaf { position: absolute; top: 0; left: 0; width: 10vmin; height: 10vmin; border-radius: 100% 0% 0% 100%/100% 100% 0% 0%; box-shadow: inset 0 2px 1vmin rgba(44,238,252,0.2); background-image: linear-gradient(to bottom left, transparent, var(--dark-color) 98%), linear-gradient(to bottom right, #23f0ff 45%, transparent 50%, transparent); -webkit-mask-image: linear-gradient(135deg, #159faa 40%, transparent 50%, transparent); }
      .flower-bg .flower__g-fr__leaf--1 { left: 20vmin; transform: rotate(45deg); animation: flower__g-fr-leaft-ans-1 0.5s 5.2s linear backwards; }
      @keyframes flower__g-fr-leaft-ans-1 { 0% { transform-origin: left; transform: rotate(45deg) scale(0); } }
      .flower-bg .flower__g-fr__leaf--2 { left: 12vmin; top: -7vmin; transform: rotate(25deg) rotateY(-180deg); animation: flower__g-fr-leaft-ans-6 0.5s 5s linear backwards; }
      .flower-bg .flower__g-fr__leaf--3 { left: 15vmin; top: 6vmin; transform: rotate(55deg); animation: flower__g-fr-leaft-ans-5 0.5s 4.8s linear backwards; }
      .flower-bg .flower__g-fr__leaf--4 { left: 6vmin; top: -2vmin; transform: rotate(25deg) rotateY(-180deg); animation: flower__g-fr-leaft-ans-6 0.5s 4.6s linear backwards; }
      .flower-bg .flower__g-fr__leaf--5 { left: 10vmin; top: 14vmin; transform: rotate(55deg); animation: flower__g-fr-leaft-ans-5 0.5s 4.4s linear backwards; }
      .flower-bg .flower__g-fr__leaf--6 { left: 0vmin; top: 6vmin; transform: rotate(25deg) rotateY(-180deg); animation: flower__g-fr-leaft-ans-6 0.5s 4.2s linear backwards; }
      .flower-bg .flower__g-fr__leaf--7 { left: 5vmin; top: 22vmin; transform: rotate(45deg); animation: flower__g-fr-leaft-ans-7 0.5s 4s linear backwards; }
      .flower-bg .flower__g-fr__leaf--8 { left: -4vmin; top: 15vmin; transform: rotate(15deg) rotateY(-180deg); animation: flower__g-fr-leaft-ans-8 0.5s 3.8s linear backwards; }
      .flower-bg .long-g { position: absolute; bottom: 25vmin; left: -42vmin; transform-origin: bottom left; }
      .flower-bg .long-g--1 { bottom: 0vmin; transform: scale(0.8) rotate(-5deg); }
      .flower-bg .long-g--1 .leaf { -webkit-mask-image: linear-gradient(to top, transparent 40%, #079097 80%) !important; }
      .flower-bg .long-g--1 .leaf--1 { --w: 5vmin; --h: 60vmin; left: -2vmin; transform: rotate(3deg) rotateY(-180deg); }
      .flower-bg .long-g--2, .flower-bg .long-g--3 { bottom: -3vmin; left: -35vmin; transform-origin: center; transform: scale(0.6) rotateX(60deg); }
      .flower-bg .long-g--2 .leaf, .flower-bg .long-g--3 .leaf { -webkit-mask-image: linear-gradient(to top, transparent 50%, #079097 80%) !important; }
      .flower-bg .long-g--2 .leaf--1, .flower-bg .long-g--3 .leaf--1 { left: -1vmin; transform: rotateY(-180deg); }
      .flower-bg .long-g--3 { left: -17vmin; bottom: 0vmin; }
      .flower-bg .long-g--3 .leaf { -webkit-mask-image: linear-gradient(to top, transparent 40%, #079097 80%) !important; }
      .flower-bg .long-g--4 { left: 25vmin; bottom: -3vmin; transform-origin: center; transform: scale(0.6) rotateX(60deg); }
      .flower-bg .long-g--4 .leaf { -webkit-mask-image: linear-gradient(to top, transparent 50%, #079097 80%) !important; }
      .flower-bg .long-g--5 { left: 42vmin; bottom: 0vmin; transform: scale(0.8) rotate(2deg); }
      .flower-bg .long-g--6 { left: 0vmin; bottom: -20vmin; z-index: 100; filter: blur(0.3vmin); transform: scale(0.8) rotate(2deg); }
      .flower-bg .long-g--7 { left: 35vmin; bottom: 20vmin; z-index: -1; filter: blur(0.3vmin); transform: scale(0.6) rotate(2deg); opacity: 0.7; }
      .flower-bg .long-g .leaf { --w: 15vmin; --h: 40vmin; --c: #1aaa15; position: absolute; bottom: 0; width: var(--w); height: var(--h); border-top-left-radius: 100%; border-left: 2vmin solid var(--c); -webkit-mask-image: linear-gradient(to top, transparent 20%, var(--dark-color)); transform-origin: bottom center; }
      .flower-bg .long-g .leaf--0 { left: 2vmin; animation: leaf-ans-1 4s linear infinite; }
      .flower-bg .long-g .leaf--1 { --w: 5vmin; --h: 60vmin; animation: leaf-ans-1 4s linear infinite; }
      .flower-bg .long-g .leaf--2 { --w: 10vmin; --h: 40vmin; left: -0.5vmin; bottom: 5vmin; transform-origin: bottom left; transform: rotateY(-180deg); animation: leaf-ans-2 3s linear infinite; }
      .flower-bg .long-g .leaf--3 { --w: 5vmin; --h: 30vmin; left: -1vmin; bottom: 3.2vmin; transform-origin: bottom left; transform: rotate(-10deg) rotateY(-180deg); animation: leaf-ans-3 3s linear infinite; }
      @keyframes leaf-ans-1 { 0%,100% { transform: rotate(-5deg) scale(1); } 50% { transform: rotate(5deg) scale(1.1); } }
      @keyframes leaf-ans-2 { 0%,100% { transform: rotateY(-180deg) rotate(5deg); } 50% { transform: rotateY(-180deg) rotate(0deg) scale(1.1); } }
      @keyframes leaf-ans-3 { 0%,100% { transform: rotate(-10deg) rotateY(-180deg); } 50% { transform: rotate(-20deg) rotateY(-180deg); } }
      @keyframes light-ans { 0% { opacity: 0; transform: translateY(0vmin); } 25% { opacity: 1; transform: translateY(-5vmin) translateX(-2vmin); } 50% { opacity: 1; transform: translateY(-15vmin) translateX(2vmin); filter: blur(0.2vmin); } 75% { transform: translateY(-20vmin) translateX(-2vmin); filter: blur(0.2vmin); } 100% { transform: translateY(-30vmin); opacity: 0; filter: blur(1vmin); } }
      @keyframes moving-flower-1 { 0%,100% { transform: rotate(2deg); } 50% { transform: rotate(-2deg); } }
      @keyframes moving-flower-2 { 0%,100% { transform: rotate(18deg); } 50% { transform: rotate(14deg); } }
      @keyframes moving-flower-3 { 0%,100% { transform: rotate(-18deg); } 50% { transform: rotate(-20deg) rotateY(-10deg); } }
      @keyframes blooming-leaf-right { 0% { transform-origin: left; transform: rotate(70deg) rotateY(30deg) scale(0); } }
      @keyframes blooming-leaf-left { 0% { transform-origin: right; transform: rotate(-70deg) rotateY(30deg) scale(0); } }
      @keyframes grow-flower-tree { 0% { height: 0; border-radius: 1vmin; } }
      @keyframes blooming-flower { 0% { transform: scale(0); } }

      /* Blur overlay over the flower background */
      .flower-blur-overlay {
        position: fixed;
        inset: 0;
        z-index: 1;
        background: rgba(0,0,0,0.45);
        backdrop-filter: blur(6px);
        -webkit-backdrop-filter: blur(6px);
        pointer-events: none;
      }

      /* Elevate UI above background */
      .confession, .song, footer { position: relative; z-index: 2; }

      .confession { 
        max-width: 900px; 
        margin: 60px auto; 
        padding: 0 24px; 
      }
      
      .controls { 
        display: flex; 
        align-items: center; 
        gap: 16px; 
        position: sticky; 
        top: 20px; 
        background: rgba(0,0,0,0.8); 
        backdrop-filter: blur(20px); 
        padding: 20px 24px; 
        border-radius: 20px; 
        color: var(--text-primary);
        border: 1px solid var(--border);
        box-shadow: var(--shadow);
        z-index: 100;
        margin-bottom: 32px;
      }
      
      .controls button { 
        padding: 12px 24px; 
        border-radius: 12px; 
        border: 1px solid var(--border); 
        background: var(--accent); 
        color: var(--text-primary); 
        cursor: pointer; 
        font-weight: 500;
        font-size: 14px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(255,107,107,0.3);
      }
      
      .controls button:hover {
        background: var(--accent-hover);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255,107,107,0.4);
      }
      
      .controls label { 
        font-size: 14px; 
        opacity: 0.9; 
        font-weight: 500;
        color: var(--text-secondary);
      }
      
      .controls input[type=range]{ 
        width: 200px; 
        height: 6px;
        border-radius: 3px;
        background: var(--bg-secondary);
        outline: none;
        -webkit-appearance: none;
      }
      
      .controls input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(255,107,107,0.4);
      }
      
      .reader { 
        height: 70vh; 
        overflow: auto; 
        margin-top: 12px; 
        padding: 48px; 
        border-radius: 24px; 
        background: var(--bg-secondary); 
        box-shadow: var(--shadow);
        border: 1px solid var(--border);
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
      }
      
      .reader:hover {
        box-shadow: var(--shadow-hover);
        transform: translateY(-2px);
      }
      
      .content { 
        font-family: 'Playfair Display', serif; 
        color: var(--text-secondary); 
        line-height: 1.9; 
        font-size: 22px; 
        max-width: 800px;
        margin: 0 auto;
      }
      
      .content h1 { 
        font-weight: 700; 
        font-size: 48px; 
        margin: 0 0 32px; 
        color: var(--text-primary);
        text-align: center;
        background: linear-gradient(135deg, #ff6b6b, #ffa726);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -0.02em;
      }
      
      .content p { 
        margin: 0 0 28px; 
        text-align: justify;
        text-justify: inter-word;
        hyphens: auto;
      }
      
      .content p:last-child {
        margin-bottom: 0;
      }
      
      .sound-gate { 
        position: fixed; 
        inset: 0; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        background: rgba(0,0,0,0.9); 
        z-index: 9999;
        backdrop-filter: blur(20px);
      }
      
      .sound-gate button { 
        background: var(--accent); 
        color: var(--text-primary); 
        padding: 20px 32px; 
        border: none; 
        border-radius: 16px; 
        font-size: 18px; 
        font-weight: 600;
        cursor: pointer; 
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
        border: 1px solid var(--border);
      }
      
      .sound-gate button:hover {
        background: var(--accent-hover);
        transform: translateY(-3px);
        box-shadow: var(--shadow-hover);
      }
      
      /* Custom scrollbar */
      .reader::-webkit-scrollbar {
        width: 8px;
      }
      
      .reader::-webkit-scrollbar-track {
        background: rgba(255,255,255,0.05);
        border-radius: 4px;
      }
      
      .reader::-webkit-scrollbar-thumb {
        background: var(--accent);
        border-radius: 4px;
      }
      
      .reader::-webkit-scrollbar-thumb:hover {
        background: var(--accent-hover);
      }
      
      /* Responsive design */
      @media (max-width: 768px) {
        .confession {
          margin: 40px auto;
          padding: 0 16px;
        }
        
        .controls {
          flex-direction: column;
          gap: 12px;
          padding: 16px 20px;
        }
        
        .reader {
          padding: 32px 24px;
          height: 60vh;
        }
        
        .content {
          font-size: 20px;
          line-height: 1.8;
        }
        
        .content h1 {
          font-size: 36px;
          margin-bottom: 24px;
        }
        
        .content p {
          margin-bottom: 24px;
        }
      }
      
      /* Animation for content appearance */
      .content > * {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.8s ease forwards;
      }
      
      .content > *:nth-child(1) { animation-delay: 0.1s; }
      .content > *:nth-child(2) { animation-delay: 0.3s; }
      .content > *:nth-child(3) { animation-delay: 0.5s; }
      .content > *:nth-child(4) { animation-delay: 0.7s; }
      .content > *:nth-child(5) { animation-delay: 0.9s; }
      
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="flower-bg">
      <div class="night"></div>
      <div class="flowers">
        <div class="flower flower--1">
          <div class="flower__leafs flower__leafs--1">
            <div class="flower__leaf flower__leaf--1"></div>
            <div class="flower__leaf flower__leaf--2"></div>
            <div class="flower__leaf flower__leaf--3"></div>
            <div class="flower__leaf flower__leaf--4"></div>
            <div class="flower__white-circle"></div>
            <div class="flower__light flower__light--1"></div>
            <div class="flower__light flower__light--2"></div>
            <div class="flower__light flower__light--3"></div>
            <div class="flower__light flower__light--4"></div>
            <div class="flower__light flower__light--5"></div>
            <div class="flower__light flower__light--6"></div>
            <div class="flower__light flower__light--7"></div>
            <div class="flower__light flower__light--8"></div>
          </div>
          <div class="flower__line">
            <div class="flower__line__leaf flower__line__leaf--1"></div>
            <div class="flower__line__leaf flower__line__leaf--2"></div>
            <div class="flower__line__leaf flower__line__leaf--3"></div>
            <div class="flower__line__leaf flower__line__leaf--4"></div>
            <div class="flower__line__leaf flower__line__leaf--5"></div>
            <div class="flower__line__leaf flower__line__leaf--6"></div>
          </div>
        </div>
        <div class="flower flower--2">
          <div class="flower__leafs flower__leafs--2">
            <div class="flower__leaf flower__leaf--1"></div>
            <div class="flower__leaf flower__leaf--2"></div>
            <div class="flower__leaf flower__leaf--3"></div>
            <div class="flower__leaf flower__leaf--4"></div>
            <div class="flower__white-circle"></div>
            <div class="flower__light flower__light--1"></div>
            <div class="flower__light flower__light--2"></div>
            <div class="flower__light flower__light--3"></div>
            <div class="flower__light flower__light--4"></div>
            <div class="flower__light flower__light--5"></div>
            <div class="flower__light flower__light--6"></div>
            <div class="flower__light flower__light--7"></div>
            <div class="flower__light flower__light--8"></div>
          </div>
          <div class="flower__line">
            <div class="flower__line__leaf flower__line__leaf--1"></div>
            <div class="flower__line__leaf flower__line__leaf--2"></div>
            <div class="flower__line__leaf flower__line__leaf--3"></div>
            <div class="flower__line__leaf flower__line__leaf--4"></div>
          </div>
        </div>
        <div class="flower flower--3">
          <div class="flower__leafs flower__leafs--3">
            <div class="flower__leaf flower__leaf--1"></div>
            <div class="flower__leaf flower__leaf--2"></div>
            <div class="flower__leaf flower__leaf--3"></div>
            <div class="flower__leaf flower__leaf--4"></div>
            <div class="flower__white-circle"></div>
            <div class="flower__light flower__light--1"></div>
            <div class="flower__light flower__light--2"></div>
            <div class="flower__light flower__light--3"></div>
            <div class="flower__light flower__light--4"></div>
            <div class="flower__light flower__light--5"></div>
            <div class="flower__light flower__light--6"></div>
            <div class="flower__light flower__light--7"></div>
            <div class="flower__light flower__light--8"></div>
          </div>
          <div class="flower__line">
            <div class="flower__line__leaf flower__line__leaf--1"></div>
            <div class="flower__line__leaf flower__line__leaf--2"></div>
            <div class="flower__line__leaf flower__line__leaf--3"></div>
            <div class="flower__line__leaf flower__line__leaf--4"></div>
          </div>
        </div>
        <div class="grow-ans" style="--d: 1.2s">
          <div class="flower__g-long">
            <div class="flower__g-long__top"></div>
            <div class="flower__g-long__bottom"></div>
          </div>
        </div>
        <div class="growing-grass">
          <div class="flower__grass flower__grass--1">
            <div class="flower__grass--top"></div>
            <div class="flower__grass--bottom"></div>
            <div class="flower__grass__leaf flower__grass__leaf--1"></div>
            <div class="flower__grass__leaf flower__grass__leaf--2"></div>
            <div class="flower__grass__leaf flower__grass__leaf--3"></div>
            <div class="flower__grass__leaf flower__grass__leaf--4"></div>
            <div class="flower__grass__leaf flower__grass__leaf--5"></div>
            <div class="flower__grass__leaf flower__grass__leaf--6"></div>
            <div class="flower__grass__leaf flower__grass__leaf--7"></div>
            <div class="flower__grass__leaf flower__grass__leaf--8"></div>
            <div class="flower__grass__overlay"></div>
          </div>
        </div>
        <div class="growing-grass">
          <div class="flower__grass flower__grass--2">
            <div class="flower__grass--top"></div>
            <div class="flower__grass--bottom"></div>
            <div class="flower__grass__leaf flower__grass__leaf--1"></div>
            <div class="flower__grass__leaf flower__grass__leaf--2"></div>
            <div class="flower__grass__leaf flower__grass__leaf--3"></div>
            <div class="flower__grass__leaf flower__grass__leaf--4"></div>
            <div class="flower__grass__leaf flower__grass__leaf--5"></div>
            <div class="flower__grass__leaf flower__grass__leaf--6"></div>
            <div class="flower__grass__leaf flower__grass__leaf--7"></div>
            <div class="flower__grass__leaf flower__grass__leaf--8"></div>
            <div class="flower__grass__overlay"></div>
          </div>
        </div>
        <div class="grow-ans" style="--d: 2.4s">
          <div class="flower__g-right flower__g-right--1">
            <div class="leaf"></div>
          </div>
        </div>
        <div class="grow-ans" style="--d: 2.8s">
          <div class="flower__g-right flower__g-right--2">
            <div class="leaf"></div>
          </div>
        </div>
        <div class="grow-ans" style="--d: 2.8s">
          <div class="flower__g-front">
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
              <div class="flower__g-front__leaf"></div>
            </div>
            <div class="flower__g-front__line"></div>
          </div>
        </div>
        <div class="grow-ans" style="--d: 3.2s">
          <div class="flower__g-fr">
            <div class="leaf"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
            <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
          </div>
        </div>
        <div class="long-g long-g--0">
          <div class="grow-ans" style="--d: 3s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 2.2s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 3.4s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 3.6s"><div class="leaf leaf--3"></div></div>
        </div>
        <div class="long-g long-g--1">
          <div class="grow-ans" style="--d: 3.6s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 3.8s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 4s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 4.2s"><div class="leaf leaf--3"></div></div>
        </div>
        <div class="long-g long-g--2">
          <div class="grow-ans" style="--d: 4s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 4.2s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 4.4s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 4.6s"><div class="leaf leaf--3"></div></div>
        </div>
        <div class="long-g long-g--3">
          <div class="grow-ans" style="--d: 4s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 4.2s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 3s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 3.6s"><div class="leaf leaf--3"></div></div>
        </div>
        <div class="long-g long-g--4">
          <div class="grow-ans" style="--d: 4s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 4.2s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 3s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 3.6s"><div class="leaf leaf--3"></div></div>
        </div>
        <div class="long-g long-g--5">
          <div class="grow-ans" style="--d: 4s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 4.2s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 3s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 3.6s"><div class="leaf leaf--3"></div></div>
        </div>
        <div class="long-g long-g--6">
          <div class="grow-ans" style="--d: 4.2s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 4.4s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 4.6s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 4.8s"><div class="leaf leaf--3"></div></div>
        </div>
        <div class="long-g long-g--7">
          <div class="grow-ans" style="--d: 3s"><div class="leaf leaf--0"></div></div>
          <div class="grow-ans" style="--d: 3.2s"><div class="leaf leaf--1"></div></div>
          <div class="grow-ans" style="--d: 3.5s"><div class="leaf leaf--2"></div></div>
          <div class="grow-ans" style="--d: 3.6s"><div class="leaf leaf--3"></div></div>
        </div>
      </div>
    </div>
    <div class="flower-blur-overlay"></div>
    <div class="song">
      <div class="title">Music</div>
      <div class="pause" onclick="togglePlay()">üîá</div>
      <div class="player">
        <audio
          class="audio"
          src="payung.mp3"
          autoplay
          playsinline
          muted
          type="audio"
          loop
        ></audio>
      </div>
    </div>
    <div id="soundGate" class="sound-gate" style="display:none"><button id="soundGateBtn">Tap to enable sound</button></div>

    <section class="confession">
      <div class="controls">
        <button id="playScroll">‚ñ∂Ô∏è Play</button>
        <button id="pauseScroll">‚è∏Ô∏è Pause</button>
        <label>Speed</label>
        <input id="speed" type="range" min="0.25" max="3" step="0.25" value="1" />
      </div>
      <div id="reader" class="reader">
        <div class="content" id="content">
          <h1>Assalamualaikum,</h1>
          <p>This may feel sudden, but I've finally found the courage to be honest with you. After so many hints I gave (haha), maybe you didn't notice and sometimes might have been confused, so actually, I have feelings for you. Even when you were with others before, I kept waiting for the right moment to say this, because I was afraid I'd have to see someone else win again if I didn't speak up. I usually end up seeing others win. I value our friendship deeply, and that's why I've been shy, because I never want to risk losing it.</p>
          <p>After doing istikharah, my heart feels at peace that you might be the right person for me. I know this is sudden, but please believe me, I never had the courage to say it whenever we met. If I don't speak now, I'm afraid I might lose something precious. If you're not comfortable with this, it's okay, I'm sorry for the suddenness. I waited for this moment because I didn't want to disturb your focus, your career, your studies, or make you feel like you had to commit to constant updates every day. But now that we're reaching the end of our studies (maybe it's just me who will be finishing; we don't really know what comes next :)), this feels like the right time to be honest. I'll accept whatever your answer is. Don't worry about me, you have every right to choose what's best for you.</p>
          <p>I also wanted to tell you this now because it feels like the right time. I don't expect anything from you, so please don't feel pressured. I'm willing to wait until you're ready to give your answer, even until we're 27, like I said before :). If you already have someone else you're waiting for, I'll accept that and keep going, no worries.</p>
          <p>Thank you for always being there and for the time we've shared. I hope to be with someone who understands me, who can be my travel partner, my hiking partner, and who can accept my clinginess. Whatever your answer is, thank you for reading. This might be a bit cringe, but if you have someone else, I'll step back gracefully and wish you the best in everything you do. Please don't end the friendship, just act normally :) I'm a little shy right now. Bye.</p>
        </div>
      </div>
    </section>
    <script>
      var pause = document.querySelector(".pause");
      var audio = document.querySelector(".audio");

      function togglePlay() {
        if (audio.paused) {
          audio.play();
          pause.innerHTML = "üîá";
        } else {
          audio.pause();
          pause.innerHTML = "üîä";
          pause.style.color = " #848484";
        }
      }

      // Autoplay workflow and unmute on first interaction
      window.addEventListener('load', () => {
        const soundGate = document.getElementById('soundGate');
        const soundGateBtn = document.getElementById('soundGateBtn');
        const showGate = () => { soundGate.style.display = 'flex'; };
        const hideGate = () => { soundGate.style.display = 'none'; };

        const tryPlay = async () => {
          try {
            await audio.play();
            audio.muted = false;
            hideGate();
          } catch (e) {
            showGate();
          }
        };
        tryPlay();

        // On any user gesture, unmute and play
        const unlock = async () => { audio.muted = false; await audio.play().catch(()=>{}); hideGate(); };
        window.addEventListener('pointerdown', unlock, { once: true });
        window.addEventListener('touchstart', unlock, { once: true, passive: true });
        window.addEventListener('mousemove', unlock, { once: true });
        window.addEventListener('wheel', unlock, { once: true, passive: true });
        window.addEventListener('keydown', unlock, { once: true });
        window.addEventListener('scroll', unlock, { once: true, passive: true });

        // Retry when page becomes visible (some mobile browsers allow after navigation)
        document.addEventListener('visibilitychange', () => { if (!document.hidden) tryPlay(); });

        // Button explicit unlock
        soundGate.addEventListener('click', unlock);
        soundGateBtn.addEventListener('click', unlock);
        playBtn.addEventListener('click', unlock, { once: true });

        // Smooth auto-scrolling reader
        const reader = document.getElementById('reader');
        const speedInput = document.getElementById('speed');
        const playBtn = document.getElementById('playScroll');
        const pauseBtn = document.getElementById('pauseScroll');

        let running = false; let last = null; let speed = parseFloat(speedInput.value);
        function step(ts){
          if(!running){ last = null; return; }
          if(last===null){ last = ts; requestAnimationFrame(step); return; }
          const dt = (ts - last) / 1000; last = ts;
          reader.scrollTop += dt * 40 * speed; // 40px/sec base
          if(reader.scrollTop + reader.clientHeight >= reader.scrollHeight){ running = false; }
          else requestAnimationFrame(step);
        }
        playBtn.addEventListener('click', () => { running = true; requestAnimationFrame(step); });
        pauseBtn.addEventListener('click', () => { running = false; });
        speedInput.addEventListener('click', () => { speed = parseFloat(speedInput.value); });
      });
    </script>
  </body>
</html>
